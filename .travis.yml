language: python

os: linux

python:
  - "2.6"
  - "2.7"
  - "3.4"
  - "3.6"

before_install:
  - gem install fpm
  - gem install package_cloud
  - apt install rpm rpmbuild

install: pip install --upgrade -r requirements.txt && python setup.py install

script:
  - make test
  - make lint
  - fpm -s python -t rpm ipaddress
  - package_cloud push strizhechenko/netutils-linux/el/6 python-ipaddress*
  - fpm -s python -t rpm -d PyYAML --python-disable-dependency pyyaml netutils-linux
  - package_cloud push strizhechenko/netutils-linux/el/6 python-netutils-linux*
